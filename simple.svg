<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="381pt" height="544pt"
 viewBox="0.00 0.00 381.00 544.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 540)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-540 377,-540 377,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_storage</title>
<polygon fill="none" stroke="#000000" points="220,-8 220,-155 340,-155 340,-8 220,-8"/>
<text text-anchor="middle" x="280" y="-139.8" font-family="Times,serif" font-size="14.00" fill="#000000">Storage</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_app</title>
<polygon fill="none" stroke="#000000" points="8,-163 8,-420 365,-420 365,-163 8,-163"/>
</g>
<g id="clust3" class="cluster">
<title>cluster_shards</title>
<polygon fill="none" stroke="#000000" points="16,-337 16,-412 357,-412 357,-337 16,-337"/>
<text text-anchor="middle" x="186.5" y="-396.8" font-family="Times,serif" font-size="14.00" fill="#000000">Shards</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_gateway</title>
<polygon fill="none" stroke="#000000" points="23,-254 23,-329 237,-329 237,-254 23,-254"/>
<text text-anchor="middle" x="130" y="-313.8" font-family="Times,serif" font-size="14.00" fill="#000000">Gateway nodes</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_backend</title>
<polygon fill="none" stroke="#000000" points="23,-171 23,-246 237,-246 237,-171 23,-171"/>
<text text-anchor="middle" x="130" y="-230.8" font-family="Times,serif" font-size="14.00" fill="#000000">Backend nodes</text>
</g>
<!-- Discord events -->
<g id="node1" class="node">
<title>Discord events</title>
<ellipse fill="none" stroke="#000000" cx="189" cy="-518" rx="80.6858" ry="18"/>
<text text-anchor="middle" x="189" y="-514.3" font-family="Times,serif" font-size="14.00" fill="#000000">Discord events</text>
</g>
<!-- mWS connection -->
<g id="node2" class="node">
<title>mWS connection</title>
<ellipse fill="none" stroke="#000000" cx="189" cy="-446" rx="89.8845" ry="18"/>
<text text-anchor="middle" x="189" y="-442.3" font-family="Times,serif" font-size="14.00" fill="#000000">mWS connection</text>
</g>
<!-- Discord events&#45;&gt;mWS connection -->
<g id="edge1" class="edge">
<title>Discord events&#45;&gt;mWS connection</title>
<path fill="none" stroke="#000000" d="M189,-499.8314C189,-492.131 189,-482.9743 189,-474.4166"/>
<polygon fill="#000000" stroke="#000000" points="192.5001,-474.4132 189,-464.4133 185.5001,-474.4133 192.5001,-474.4132"/>
</g>
<!-- Shard 0 -->
<g id="node3" class="node">
<title>Shard 0</title>
<ellipse fill="none" stroke="#000000" cx="189" cy="-363" rx="47.3916" ry="18"/>
<text text-anchor="middle" x="189" y="-359.3" font-family="Times,serif" font-size="14.00" fill="#000000">Shard 0</text>
</g>
<!-- mWS connection&#45;&gt;Shard 0 -->
<g id="edge2" class="edge">
<title>mWS connection&#45;&gt;Shard 0</title>
<path fill="none" stroke="#000000" d="M189,-427.9902C189,-426.1746 189,-424.2695 189,-422.2982"/>
<polygon fill="#000000" stroke="#000000" points="192.5001,-421.9995 189,-411.9995 185.5001,-421.9995 192.5001,-421.9995"/>
</g>
<!-- A -->
<g id="node6" class="node">
<title>A</title>
<ellipse fill="none" stroke="#000000" cx="202" cy="-280" rx="27" ry="18"/>
<text text-anchor="middle" x="202" y="-276.3" font-family="Times,serif" font-size="14.00" fill="#000000">A</text>
</g>
<!-- Shard 0&#45;&gt;A -->
<g id="edge5" class="edge">
<title>Shard 0&#45;&gt;A</title>
<path fill="none" stroke="#000000" d="M198.9887,-337C199.4857,-334.9994 199.9827,-332.9988 200.4798,-330.9982"/>
<polygon fill="#000000" stroke="#000000" points="201.9621,-339.5466 200.9768,-328.9976 195.1686,-337.8586 201.9621,-339.5466"/>
</g>
<!-- Postgres -->
<g id="node4" class="node">
<title>Postgres</title>
<ellipse fill="none" stroke="#000000" cx="280" cy="-106" rx="51.9908" ry="18"/>
<text text-anchor="middle" x="280" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#000000">Postgres</text>
</g>
<!-- Redis -->
<g id="node5" class="node">
<title>Redis</title>
<ellipse fill="none" stroke="#000000" cx="280" cy="-34" rx="36.2938" ry="18"/>
<text text-anchor="middle" x="280" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">Redis</text>
</g>
<!-- Postgres&#45;&gt;Redis -->
<g id="edge3" class="edge">
<title>Postgres&#45;&gt;Redis</title>
<path fill="none" stroke="#000000" d="M274.0476,-87.8314C273.2856,-80.0125 273.0696,-70.6923 273.3995,-62.0221"/>
<polygon fill="#000000" stroke="#000000" points="276.9004,-62.1239 274.0727,-51.9134 269.9159,-61.6587 276.9004,-62.1239"/>
</g>
<!-- Redis&#45;&gt;Postgres -->
<g id="edge4" class="edge">
<title>Redis&#45;&gt;Postgres</title>
<path fill="none" stroke="#000000" d="M285.9273,-51.9134C286.7012,-59.6993 286.9291,-69.01 286.6111,-77.6941"/>
<polygon fill="#000000" stroke="#000000" points="283.1082,-77.6254 285.9524,-87.8314 290.0935,-78.0794 283.1082,-77.6254"/>
</g>
<!-- A&#45;&gt;Shard 0 -->
<g id="edge6" class="edge">
<title>A&#45;&gt;Shard 0</title>
<path fill="none" stroke="#000000" d="M187.6748,-328.9955C187.4243,-330.9229 187.1972,-332.828 186.9964,-334.6934"/>
<polygon fill="#000000" stroke="#000000" points="186.3324,-326.4068 186.1424,-337 192.897,-328.8374 186.3324,-326.4068"/>
</g>
<!-- A&#45;&gt;Postgres -->
<g id="edge10" class="edge">
<title>A&#45;&gt;Postgres</title>
<path fill="none" stroke="#000000" d="M234.9824,-254.0011C237.2031,-251.4526 239.2489,-248.7762 241,-246 256.3715,-221.6303 265.7897,-191.1445 271.5071,-164.8481"/>
<polygon fill="#000000" stroke="#000000" points="274.9472,-165.4949 273.5218,-154.9964 268.0891,-164.0923 274.9472,-165.4949"/>
</g>
<!-- D -->
<g id="node7" class="node">
<title>D</title>
<ellipse fill="none" stroke="#000000" cx="202" cy="-197" rx="27" ry="18"/>
<text text-anchor="middle" x="202" y="-193.3" font-family="Times,serif" font-size="14.00" fill="#000000">D</text>
</g>
<!-- A&#45;&gt;D -->
<g id="edge7" class="edge">
<title>A&#45;&gt;D</title>
<path fill="none" stroke="#000000" d="M208.1649,-254C208.2865,-251.9993 208.408,-249.9987 208.5296,-247.998"/>
<polygon fill="#000000" stroke="#000000" points="211.5378,-256.1913 208.6511,-245.9973 204.5507,-255.7665 211.5378,-256.1913"/>
</g>
<!-- D&#45;&gt;Postgres -->
<g id="edge9" class="edge">
<title>D&#45;&gt;Postgres</title>
<path fill="none" stroke="#000000" d="M224.2823,-171.004C226.5186,-168.395 228.8453,-165.6805 231.2239,-162.9055"/>
<polygon fill="#000000" stroke="#000000" points="234.1505,-164.8691 238.0011,-154.9988 228.8357,-160.3136 234.1505,-164.8691"/>
</g>
<!-- D&#45;&gt;A -->
<g id="edge8" class="edge">
<title>D&#45;&gt;A</title>
<path fill="none" stroke="#000000" d="M195.3489,-245.9988C195.4009,-247.9504 195.4734,-249.8791 195.5664,-251.7669"/>
<polygon fill="#000000" stroke="#000000" points="192.0943,-252.2753 196.3216,-261.9902 199.0753,-251.7595 192.0943,-252.2753"/>
</g>
<!-- REST API -->
<g id="node9" class="node">
<title>REST API</title>
<ellipse fill="none" stroke="#000000" cx="153" cy="-106" rx="57.3905" ry="18"/>
<text text-anchor="middle" x="153" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#000000">REST API</text>
</g>
<!-- D&#45;&gt;REST API -->
<g id="edge12" class="edge">
<title>D&#45;&gt;REST API</title>
<path fill="none" stroke="#000000" d="M192.7835,-179.8836C185.6665,-166.6664 175.6847,-148.1287 167.5002,-132.9289"/>
<polygon fill="#000000" stroke="#000000" points="170.5008,-131.1189 162.6781,-123.9736 164.3375,-134.4377 170.5008,-131.1189"/>
</g>
<!-- Shard 1 -->
<g id="node8" class="node">
<title>Shard 1</title>
<ellipse fill="none" stroke="#000000" cx="302" cy="-363" rx="47.3916" ry="18"/>
<text text-anchor="middle" x="302" y="-359.3" font-family="Times,serif" font-size="14.00" fill="#000000">Shard 1</text>
</g>
<!-- Shard 1&#45;&gt;Postgres -->
<g id="edge11" class="edge">
<title>Shard 1&#45;&gt;Postgres</title>
<path fill="none" stroke="#000000" d="M299.7744,-337.0012C296.3504,-297.0022 289.701,-219.3256 285.0627,-165.1414"/>
<polygon fill="#000000" stroke="#000000" points="288.5345,-164.6614 284.1942,-154.9964 281.56,-165.2585 288.5345,-164.6614"/>
</g>
<!-- Discord -->
<g id="node10" class="node">
<title>Discord</title>
<ellipse fill="none" stroke="#000000" cx="153" cy="-34" rx="46.5926" ry="18"/>
<text text-anchor="middle" x="153" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">Discord</text>
</g>
<!-- REST API&#45;&gt;Discord -->
<g id="edge13" class="edge">
<title>REST API&#45;&gt;Discord</title>
<path fill="none" stroke="#000000" d="M153,-87.8314C153,-80.131 153,-70.9743 153,-62.4166"/>
<polygon fill="#000000" stroke="#000000" points="156.5001,-62.4132 153,-52.4133 149.5001,-62.4133 156.5001,-62.4132"/>
</g>
<!-- Shard ... -->
<g id="node11" class="node">
<title>Shard ...</title>
<ellipse fill="none" stroke="#000000" cx="74" cy="-363" rx="50.0912" ry="18"/>
<text text-anchor="middle" x="74" y="-359.3" font-family="Times,serif" font-size="14.00" fill="#000000">Shard ...</text>
</g>
<!-- B -->
<g id="node12" class="node">
<title>B</title>
<ellipse fill="none" stroke="#000000" cx="130" cy="-280" rx="27" ry="18"/>
<text text-anchor="middle" x="130" y="-276.3" font-family="Times,serif" font-size="14.00" fill="#000000">B</text>
</g>
<!-- C -->
<g id="node13" class="node">
<title>C</title>
<ellipse fill="none" stroke="#000000" cx="58" cy="-280" rx="27" ry="18"/>
<text text-anchor="middle" x="58" y="-276.3" font-family="Times,serif" font-size="14.00" fill="#000000">C</text>
</g>
<!-- E -->
<g id="node14" class="node">
<title>E</title>
<ellipse fill="none" stroke="#000000" cx="130" cy="-197" rx="27" ry="18"/>
<text text-anchor="middle" x="130" y="-193.3" font-family="Times,serif" font-size="14.00" fill="#000000">E</text>
</g>
<!-- F -->
<g id="node15" class="node">
<title>F</title>
<ellipse fill="none" stroke="#000000" cx="58" cy="-197" rx="27" ry="18"/>
<text text-anchor="middle" x="58" y="-193.3" font-family="Times,serif" font-size="14.00" fill="#000000">F</text>
</g>
</g>
</svg>
